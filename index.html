<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hub do Canal Geilson - Downloads & Recursos</title>

      <!-- Ícone -->
    <link rel="icon" type="image/png" href="logo.jpeg">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Rajdhani:wght@500;600;700&display=swap" rel="stylesheet">

    <!-- Configurações de Estilo -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Rajdhani', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            bg: '#050505',
                            card: '#0F0F12',
                            border: '#1F1F23',
                            accent: '#6366f1', 
                            accentHover: '#4f46e5',
                            success: '#10b981',
                            warning: '#f59e0b',
                            error: '#ef4444'
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.4s ease-out',
                        'slide-up': 'slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1)',
                        'pulse-glow': 'pulseGlow 3s infinite',
                    },
                    keyframes: {
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
                        slideUp: { '0%': { transform: 'translateY(30px)', opacity: '0' }, '100%': { transform: 'translateY(0)', opacity: '1' } },
                        pulseGlow: {
                            '0%, 100%': { boxShadow: '0 0 10px rgba(99, 102, 241, 0.1)' },
                            '50%': { boxShadow: '0 0 20px rgba(99, 102, 241, 0.3)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Scrollbar Moderna */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #050505; }
        ::-webkit-scrollbar-thumb { background: #27272a; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #3f3f46; }
        
        /* Fundo com Ruído e Gradiente */
        body {
            background-color: #050505;
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(99, 102, 241, 0.08) 0%, transparent 25%), 
                radial-gradient(circle at 85% 30%, rgba(168, 85, 247, 0.05) 0%, transparent 25%);
            background-attachment: fixed;
        }

        /* Efeitos de Vidro */
        .glass-panel {
            background: rgba(15, 15, 18, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .glass-modal {
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        /* Checkbox Customizado */
        .custom-checkbox input:checked + div {
            background-color: #6366f1;
            border-color: #6366f1;
        }
        
        /* Toast */
        .toast {
            transform: translateX(120%);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .toast.show { transform: translateX(0); }

        /* Loader */
        .loader-ring {
            display: inline-block;
            position: relative;
            width: 64px;
            height: 64px;
        }
        .loader-ring div {
            box-sizing: border-box;
            display: block;
            position: absolute;
            width: 51px;
            height: 51px;
            margin: 6px;
            border: 3px solid #6366f1;
            border-radius: 50%;
            animation: loader-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
            border-color: #6366f1 transparent transparent transparent;
        }
        .loader-ring div:nth-child(1) { animation-delay: -0.45s; }
        .loader-ring div:nth-child(2) { animation-delay: -0.3s; }
        .loader-ring div:nth-child(3) { animation-delay: -0.15s; }
        @keyframes loader-ring {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="text-gray-300 font-sans antialiased min-h-screen flex flex-col overflow-x-hidden selection:bg-brand-accent selection:text-white">

    <!-- === BARRA DE ANÚNCIO (Controlada via Remote Config) === -->
    <div id="announcement-bar" class="bg-gradient-to-r from-blue-900/50 to-purple-900/50 border-b border-white/5 py-2 px-4 text-center text-xs font-medium text-blue-200 hidden cursor-pointer hover:bg-white/5 transition-colors">
        <i class="fa-solid fa-bullhorn mr-2"></i> <span id="announcement-text"></span>
    </div>

    <!-- === TOAST NOTIFICATION === -->
    <div id="toast" class="fixed top-5 right-5 z-[100] glass-panel border-l-4 rounded-lg p-4 shadow-2xl flex items-center gap-4 max-w-sm toast">
        <div id="toast-icon" class="text-xl"></div>
        <div>
            <h4 id="toast-title" class="font-bold text-white text-sm"></h4>
            <p id="toast-msg" class="text-xs text-gray-400 mt-0.5"></p>
        </div>
    </div>

    <!-- === TELA DE MANUTENÇÃO (Controlada via Remote Config) === -->
    <div id="maintenance-screen" class="fixed inset-0 z-[90] bg-[#050505] flex flex-col items-center justify-center p-6 text-center hidden">
        <div class="w-20 h-20 bg-brand-warning/10 rounded-full flex items-center justify-center mb-6 animate-pulse">
            <i class="fa-solid fa-triangle-exclamation text-4xl text-brand-warning"></i>
        </div>
        <h1 class="text-3xl font-display font-bold text-white mb-2">Manutenção em Andamento</h1>
        <p id="maintenance-msg" class="text-gray-400 max-w-md">Estamos realizando ajustes importantes na infraestrutura. Por favor, retorne em breve.</p>
    </div>

    <!-- === MODAL TERMOS DE USO (OBRIGATÓRIO) === -->
    <div id="terms-modal" class="fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-md hidden p-4">
        <div class="glass-modal w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-slide-up">
            <div class="p-6 border-b border-white/5 bg-white/5">
                <h2 class="text-xl font-bold text-white flex items-center gap-2">
                    <i class="fa-solid fa-file-shield text-brand-accent"></i> Termos de Uso e Política
                </h2>
                <p class="text-xs text-gray-400 mt-1">Última atualização: <span id="current-date"></span></p>
            </div>
            
            <div class="p-6 overflow-y-auto space-y-4 text-sm leading-relaxed text-justify custom-scrollbar">
                <div class="bg-brand-warning/10 border border-brand-warning/20 p-3 rounded-lg text-brand-warning text-xs font-semibold mb-4">
                    <i class="fa-solid fa-triangle-exclamation mr-1"></i> ATENÇÃO: O uso indevido dos arquivos pode resultar em penalidades em jogos online. Leia com atenção.
                </div>

                <p>Para prosseguir e ter acesso ao <strong>Hub de Downloads do Canal Geilson</strong>, você deve concordar explicitamente com as seguintes cláusulas:</p>
              <ul class="list-disc pl-5 space-y-2 text-gray-400">
    <li>
        <strong>Termo de Isenção e Aceite de Risco:</strong> Ao realizar o download e utilizar os arquivos disponibilizados, o usuário declara estar ciente de que se trata de software de natureza experimental e/ou modificada. O Canal Geilson e seus administradores isentam-se de qualquer responsabilidade civil ou criminal por danos materiais, morais ou lucros cessantes, incluindo — mas não se limitando a — banimentos de contas de jogos (VAC, HWID, etc.), incompatibilidade de hardware, corrupção de sistema operacional ou perda de dados. O uso é uma escolha exclusiva e risco integral do usuário final.
    </li>
    <li>
        <strong>Direitos de Propriedade e Uso:</strong> O conteúdo original produzido pelo Canal Geilson é protegido por direitos autorais. É terminantemente proibida a comercialização, engenharia reversa, redistribuição ou hospedagem (re-upload) destes arquivos em outras plataformas sem consentimento prévio e por escrito. A violação destes termos sujeitará o infrator às sanções previstas na Lei de Direitos Autorais e demais legislações aplicáveis.
    </li>
    <li>
        <strong>Política de Privacidade e Dados:</strong> A autenticação via Google é empregada estritamente para segurança da plataforma, visando impedir ataques automatizados (bots) e garantir a integridade do serviço. Os dados coletados (ID e e-mail) são mantidos em sigilo absoluto, utilizados apenas para controle de acesso, e jamais serão vendidos ou cedidos a terceiros para fins de marketing ou publicidade.
    </li>
    <li>
        <strong>Terceiros e Natureza das Modificações:</strong> O usuário reconhece que o uso de "mods" ou "cheats" pode violar os Termos de Serviço (ToS) dos desenvolvedores dos jogos. Nós não possuímos vínculo com as desenvolvedoras oficiais. Todo material de propriedade intelectual de terceiros aqui presente pertence aos seus respectivos donos e é utilizado sob o princípio de uso justo (fair use) ou para fins educacionais.
    </li>
</ul>
            </div>

            <div class="p-6 border-t border-white/5 bg-[#080808]">
                <label class="flex items-start gap-3 cursor-pointer group select-none">
                    <div class="relative flex items-center custom-checkbox">
                        <input type="checkbox" id="accept-checkbox" class="sr-only">
                        <div class="w-5 h-5 border-2 border-gray-600 rounded flex items-center justify-center transition-colors group-hover:border-gray-500">
                            <i class="fa-solid fa-check text-xs text-white hidden"></i>
                        </div>
                    </div>
                    <span class="text-xs text-gray-400 group-hover:text-gray-300 transition-colors">
                        Li, compreendi e <strong class="text-white">CONCORDO INTEGRALMENTE</strong> com os termos citados acima e assumo total responsabilidade pelos meus downloads.
                    </span>
                </label>
                
                <button id="btn-accept-terms" disabled onclick="acceptTerms()" class="w-full mt-4 bg-brand-accent hover:bg-brand-accentHover text-white font-bold py-3 rounded-lg transition-all disabled:opacity-30 disabled:cursor-not-allowed shadow-lg shadow-brand-accent/20">
                    ACESSAR HUB
                </button>
            </div>
        </div>
    </div>

    <!-- === LOADING === -->
    <div id="loading-screen" class="fixed inset-0 z-50 bg-[#050505] flex flex-col items-center justify-center transition-opacity duration-500">
        <div class="loader-ring"><div></div><div></div><div></div><div></div></div>
        <p class="mt-6 text-brand-accent font-display font-bold tracking-widest text-sm animate-pulse">CARREGANDO SISTEMA</p>
    </div>

    <!-- === CONTEÚDO PRINCIPAL === -->
    <div id="app-content" class="flex-1 flex flex-col lg:flex-row max-w-6xl mx-auto w-full p-4 lg:p-8 gap-6 hidden">
        
        <!-- COLUNA ESQUERDA: PERFIL -->
        <aside class="w-full lg:w-[350px] flex-shrink-0 animate-slide-up">
            <div class="glass-panel rounded-2xl p-6 lg:p-8 text-center sticky top-6 overflow-hidden relative">
                <!-- Efeito de fundo no card -->
                <div class="absolute top-0 left-0 w-full h-32 bg-gradient-to-b from-brand-accent/10 to-transparent"></div>
                
                <div class="relative z-10">
                    <div class="relative inline-block mb-4 group cursor-pointer">
                        <div class="absolute -inset-1 bg-gradient-to-r from-brand-accent to-purple-500 rounded-full blur opacity-30 group-hover:opacity-60 transition duration-500"></div>
                        <img id="profile-img" src="" alt="Avatar" class="relative w-32 h-32 rounded-full object-cover border-4 border-[#0F0F12] shadow-xl">
                        <div id="verified-badge" class="absolute bottom-2 right-2 bg-blue-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-[10px] border-2 border-[#0F0F12] hidden" title="Verificado">
                            <i class="fa-solid fa-check"></i>
                        </div>
                    </div>

                    <h1 id="channel-name" class="text-2xl font-display font-bold text-white mb-1">...</h1>
                    <p id="channel-bio" class="text-sm text-gray-500 leading-relaxed mb-6">...</p>

                    <div id="auth-status-container" class="mb-6">
                        <!-- Botão Login ou Status Usuário será injetado aqui -->
                    </div>

                    <div class="h-px w-full bg-white/5 mb-6"></div>

                    <h3 class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-4">Minhas Redes</h3>
                    <div id="social-icons" class="flex justify-center gap-3 flex-wrap"></div>
                </div>
            </div>
        </aside>

        <!-- COLUNA DIREITA: LINKS -->
        <main class="flex-1 flex flex-col animate-slide-up" style="animation-delay: 0.1s;">
            
            <!-- Barra de Busca -->
            <div class="glass-panel rounded-xl p-1 mb-6 flex items-center sticky top-4 z-40 shadow-xl border-white/10">
                <div class="w-12 h-12 flex items-center justify-center text-gray-500">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </div>
                <input type="text" id="search-input" placeholder="Pesquisar arquivo, mod ou tutorial..." 
                       class="w-full bg-transparent border-none outline-none text-white placeholder-gray-600 h-12 pr-4 text-sm font-medium">
            </div>

            <!-- Lista de Links -->
            <div id="links-container" class="space-y-3 pb-12">
                <!-- Links injetados via JS -->
            </div>

            <footer class="mt-auto text-center py-8 border-t border-white/5">
                <p class="text-gray-600 text-xs mb-2">&copy; 2026 Canal Geilson. Todos os direitos reservados.</p>
                <div class="flex justify-center gap-4 text-[10px] text-gray-500 font-medium uppercase tracking-wider">
                    <button onclick="openTermsModal(true)" class="hover:text-white transition-colors">Termos de Uso</button>
                    <span>•</span>
                    <button onclick="openTermsModal(true)" class="hover:text-white transition-colors">Privacidade</button>
                </div>
            </footer>
        </main>
    </div>

    <!-- === LÓGICA DO APP === -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getRemoteConfig, fetchAndActivate, getValue } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-remote-config.js";
        import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-analytics.js";

        // CONFIGURAÇÃO FIREBASE (Não altere)
        const firebaseConfig = {
            apiKey: "AIzaSyBfw8u0YwfKdiGNDjWPd0Vxjf6yQuDNKRA",
            authDomain: "canal-geilson.firebaseapp.com",
            projectId: "canal-geilson",
            storageBucket: "canal-geilson.firebasestorage.app",
            messagingSenderId: "442170184472",
            appId: "1:442170184472:web:77e83150b24c9eccee846d",
            measurementId: "G-7CLH8J6PPF"
        };

        // INICIALIZAÇÃO
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth(app);
        const remoteConfig = getRemoteConfig(app);
        
        // Configuração para desenvolvimento (fetch rápido)
        remoteConfig.settings = { 
            minimumFetchIntervalMillis: 1000, // 1 segundo em produção
            fetchTimeoutMillis: 10000 
        };

        // ESTADO GLOBAL
        let state = {
            user: null,
            links: [],
            config: {},
            pendingLink: null
        };

        // DADOS PADRÃO (Fallback se o Remote Config falhar)
        const defaultData = {
            config: {
                maintenance_mode: false,
                maintenance_message: "Sistema em manutenção.",
                announcement_bar: { show: false, text: "", url: "#" },
                texts: { hero_title: "Canal Geilson", hero_subtitle: "Hub oficial de downloads e tutoriais." }
            },
            profile: {
                name: "Canal Geilson",
                bio: "Tecnologia, Games e Tutoriais. Conteúdo exclusivo para inscritos.",
                image: "https://ui-avatars.com/api/?name=Canal+Geilson&background=6366f1&color=fff&size=256"
            },
            links: [
                { id: 1, title: "Inscreva-se no Youtube", subtitle: "Ajude o canal a crescer!", url: "https://youtube.com", icon: "fa-youtube", type: "social", color: "red" },
                { id: 2, title: "Pack Otimização FPS", subtitle: "Versão 2.0 (Atualizado)", url: "#", icon: "fa-bolt", type: "download", requiredAuth: true },
            ],
            social: [
                { icon: "fa-instagram", url: "#" },
                { icon: "fa-discord", url: "#" }
            ]
        };

        // --- FUNÇÕES DE UI ---

        function updateDate() {
            const date = new Date();
            document.getElementById('current-date').textContent = date.toLocaleDateString('pt-BR');
        }

        window.showToast = (title, msg, type = 'info') => {
            const toast = document.getElementById('toast');
            const iconEl = document.getElementById('toast-icon');
            const titleEl = document.getElementById('toast-title');
            const msgEl = document.getElementById('toast-msg');
            
            // Configurar cores
            const colors = {
                success: { border: 'border-green-500', icon: '<i class="fa-solid fa-circle-check text-green-500"></i>' },
                error: { border: 'border-red-500', icon: '<i class="fa-solid fa-circle-xmark text-red-500"></i>' },
                info: { border: 'border-blue-500', icon: '<i class="fa-solid fa-circle-info text-blue-500"></i>' },
                lock: { border: 'border-yellow-500', icon: '<i class="fa-solid fa-lock text-yellow-500"></i>' }
            };

            const style = colors[type] || colors.info;

            toast.className = `fixed top-5 right-5 z-[100] glass-panel border-l-4 rounded-lg p-4 shadow-2xl flex items-center gap-4 max-w-sm toast show ${style.border}`;
            iconEl.innerHTML = style.icon;
            titleEl.textContent = title;
            msgEl.textContent = msg;

            setTimeout(() => toast.classList.remove('show'), 4000);
        };

        // --- SISTEMA DE TERMOS ---
        
        window.openTermsModal = (readonly = false) => {
            const modal = document.getElementById('terms-modal');
            const btn = document.getElementById('btn-accept-terms');
            const checkbox = document.getElementById('accept-checkbox');
            
            modal.classList.remove('hidden');
            updateDate();

            if (readonly) {
                btn.textContent = "FECHAR";
                btn.disabled = false;
                btn.onclick = () => modal.classList.add('hidden');
                checkbox.parentElement.parentElement.classList.add('hidden'); // Esconde checkbox
            } else {
                btn.textContent = "CONCORDAR E ACESSAR";
                btn.disabled = true;
                checkbox.checked = false;
                checkbox.parentElement.parentElement.classList.remove('hidden');
                btn.onclick = acceptTerms;
            }
        };

        window.acceptTerms = () => {
            localStorage.setItem('geilson_terms_v3', 'accepted');
            document.getElementById('terms-modal').classList.add('hidden');
            initAppContent();
        };

        document.getElementById('accept-checkbox').addEventListener('change', (e) => {
            const btn = document.getElementById('btn-accept-terms');
            btn.disabled = !e.target.checked;
            if (e.target.checked) btn.classList.add('animate-pulse');
            else btn.classList.remove('animate-pulse');
        });

        // --- SISTEMA DE AUTENTICAÇÃO ---

        function renderAuthStatus(user) {
            const container = document.getElementById('auth-status-container');
            
            if (user) {
                container.innerHTML = `
                    <div class="bg-brand-border/50 rounded-xl p-3 flex items-center justify-between border border-brand-success/30">
                        <div class="flex items-center gap-3">
                            <img src="${user.photoURL || 'https://via.placeholder.com/40'}" class="w-8 h-8 rounded-full border border-white/10">
                            <div class="text-left">
                                <p class="text-xs font-bold text-white truncate max-w-[120px]">${user.displayName}</p>
                                <p class="text-[10px] text-green-400 flex items-center gap-1"><i class="fa-solid fa-shield-halved"></i> Verificado</p>
                            </div>
                        </div>
                        <button onclick="logout()" class="text-gray-500 hover:text-red-400 transition-colors p-2" title="Sair">
                            <i class="fa-solid fa-arrow-right-from-bracket"></i>
                        </button>
                    </div>
                `;
            } else {
                container.innerHTML = `
                    <button onclick="login()" class="w-full bg-white text-black font-bold py-3 rounded-xl flex items-center justify-center gap-2 hover:bg-gray-200 transition-all shadow-lg hover:scale-[1.02]">
                        <img src="https://www.svgrepo.com/show/475656/google-color.svg" class="w-5 h-5">
                        Entrar com Google
                    </button>
                    <p class="text-[10px] text-gray-500 mt-2">Login necessário para downloads protegidos.</p>
                `;
            }
        }

        window.login = async () => {
            const provider = new GoogleAuthProvider();
            try {
                const result = await signInWithPopup(auth, provider);
                showToast("Bem-vindo!", `Olá, ${result.user.displayName}`, "success");
                if (state.pendingLink) {
                    setTimeout(() => {
                        window.open(state.pendingLink, '_blank');
                        state.pendingLink = null;
                    }, 1000);
                }
            } catch (error) {
                console.error(error);
                showToast("Erro no Login", "Não foi possível autenticar. Tente novamente.", "error");
            }
        };

        window.logout = () => {
            if(confirm("Deseja realmente sair?")) {
                signOut(auth).then(() => {
                    showToast("Desconectado", "Você saiu da sua conta.", "info");
                    renderLinks(state.links); // Re-renderizar para bloquear links
                });
            }
        };

        // --- LÓGICA DE DADOS E RENDERIZAÇÃO ---

        async function init() {
            // Verificar Termos
            if (!localStorage.getItem('geilson_terms_v3')) {
                document.getElementById('loading-screen').classList.add('hidden');
                openTermsModal(false);
                return;
            }
            await initAppContent();
        }

        async function initAppContent() {
            document.getElementById('loading-screen').classList.remove('hidden');

            // 1. Ouvinte de Auth
            onAuthStateChanged(auth, (user) => {
                state.user = user;
                renderAuthStatus(user);
                renderLinks(state.links); // Re-renderizar links quando status auth mudar
            });

            // 2. Buscar Remote Config
            try {
                await fetchAndActivate(remoteConfig);
                const json = getValue(remoteConfig, 'site_data').asString();
                
                let data = defaultData;
                if (json) {
                    try {
                        data = JSON.parse(json);
                    } catch (e) {
                        console.error("JSON inválido no Remote Config", e);
                    }
                }

                state.links = data.links || defaultData.links;
                state.config = data.config || defaultData.config;
                
                applyConfig(data.config);
                renderProfile(data.profile, data.social);
                renderLinks(state.links);

            } catch (err) {
                console.error("Erro Remote Config", err);
                // Fallback para dados padrão
                renderProfile(defaultData.profile, defaultData.social);
                renderLinks(defaultData.links);
            } finally {
                document.getElementById('loading-screen').classList.add('hidden');
                document.getElementById('app-content').classList.remove('hidden');
                document.getElementById('app-content').classList.add('flex'); // Correção do display
            }
        }

        function applyConfig(cfg) {
            // Manutenção
            if (cfg && cfg.maintenance_mode) {
                document.getElementById('maintenance-msg').textContent = cfg.maintenance_message;
                document.getElementById('maintenance-screen').classList.remove('hidden');
                return; // Para a execução se estiver em manutenção
            }

            // Anúncio
            if (cfg && cfg.announcement_bar && cfg.announcement_bar.show) {
                const bar = document.getElementById('announcement-bar');
                const text = document.getElementById('announcement-text');
                bar.classList.remove('hidden');
                text.textContent = cfg.announcement_bar.text;
                bar.onclick = () => { if(cfg.announcement_bar.url) window.open(cfg.announcement_bar.url, '_blank'); };
            }

            // Textos Hero
            if (cfg && cfg.texts) {
                document.getElementById('channel-name').textContent = cfg.texts.hero_title || defaultData.config.texts.hero_title;
            }
        }

        function renderProfile(profile, social) {
            if(!profile) return;
            document.getElementById('channel-name').textContent = profile.name;
            document.getElementById('channel-bio').textContent = profile.bio;
            document.getElementById('profile-img').src = profile.image;

            const socialContainer = document.getElementById('social-icons');
            socialContainer.innerHTML = (social || []).map(s => `
                <a href="${s.url}" target="_blank" class="w-10 h-10 rounded-lg bg-white/5 flex items-center justify-center text-gray-400 hover:text-white hover:bg-brand-accent transition-all">
                    <i class="fa-brands ${s.icon}"></i>
                </a>
            `).join('');
        }

        function renderLinks(links) {
            const container = document.getElementById('links-container');
            container.innerHTML = '';

            if (!links || links.length === 0) {
                container.innerHTML = '<div class="text-center text-gray-600 py-10">Nenhum link disponível.</div>';
                return;
            }

            links.forEach((link, index) => {
                // Verificar se está bloqueado
                const isLocked = link.requiredAuth && !state.user;
                const isSocial = link.type === 'social';
                
                // Estilos dinâmicos
                let borderClass = 'border-white/5 hover:border-brand-accent/50';
                let iconBg = 'bg-white/5';
                let iconColor = 'text-white';
                
                if (link.color === 'red') { iconBg = 'bg-red-500/20'; iconColor = 'text-red-500'; }
                if (link.color === 'blue') { iconBg = 'bg-blue-500/20'; iconColor = 'text-blue-500'; }
                if (link.color === 'green') { iconBg = 'bg-green-500/20'; iconColor = 'text-green-500'; }

                const el = document.createElement('div');
                el.className = `glass-panel rounded-xl p-4 flex items-center justify-between cursor-pointer transition-all duration-300 hover:translate-x-1 group border ${borderClass} mb-3`;
                
                el.innerHTML = `
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 rounded-lg ${iconBg} ${iconColor} flex items-center justify-center text-xl shadow-inner group-hover:scale-110 transition-transform">
                            <i class="fa-solid ${link.icon}"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-white text-base leading-tight flex items-center gap-2">
                                ${link.title}
                                ${isLocked ? '<i class="fa-solid fa-lock text-[10px] text-yellow-500"></i>' : ''}
                            </h3>
                            <p class="text-xs text-gray-500 font-medium">${link.subtitle || (isSocial ? 'Link Externo' : '')}</p>
                        </div>
                    </div>
                    <div class="w-8 h-8 rounded-full bg-white/5 flex items-center justify-center text-gray-400 group-hover:text-white group-hover:bg-brand-accent transition-colors">
                        <i class="fa-solid ${isLocked ? 'fa-lock' : 'fa-chevron-right'} text-xs"></i>
                    </div>
                `;

                el.onclick = () => handleLinkClick(link, isLocked);
                container.appendChild(el);
            });
        }

        function handleLinkClick(link, isLocked) {
            if (isLocked) {
                showToast("Acesso Restrito", "Faça login com Google para baixar este arquivo.", "lock");
                window.scrollTo({ top: 0, behavior: 'smooth' });
                // Animar botão de login para chamar atenção
                const loginBtn = document.querySelector('#auth-status-container button');
                if(loginBtn) {
                    loginBtn.classList.add('animate-bounce');
                    setTimeout(() => loginBtn.classList.remove('animate-bounce'), 2000);
                }
                state.pendingLink = link.url;
            } else {
                window.open(link.url, '_blank');
            }
        }

        // Filtro de Busca
        document.getElementById('search-input').addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase();
            const filtered = state.links.filter(l => 
                l.title.toLowerCase().includes(term) || 
                (l.subtitle && l.subtitle.toLowerCase().includes(term))
            );
            renderLinks(filtered);
        });

        // Iniciar App
        init();

    </script>
</body>
</html>
